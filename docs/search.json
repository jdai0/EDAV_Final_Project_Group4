[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "EDAV Final Project Group 4",
    "section": "",
    "text": "1 Introduction\nOn November 8th, a man opened fire on an NYC subway, shooting the victim in the legs. The incident happened on the Upper West, not far from where we lived. Just 10 days later, three people were killed in random stabbing spree. The murderer, covered in blood, walked freely in the bustling streets in Manhattan before being arrested.\nWe live in a city that riffles with opportunities and danger at the same time. As data science students in NYC, both our own safety and the community we share are deeply intertwined with issues of public safety. In this project, we attempt to conduct an Exploratory Data Analysis (EDA) on crimes in NYC as our means to raise awareness and contribute to the community.\nWe identified NYPD Arrest Data as our main data source, which includes information such as the type of crime, location, time, and suspect demographics. Although many crimes are deep-rooted, requiring massive investment and sacrifices to address, EDA could still yield valuable insight. By exploring social-economic correlations behind crimes, EDA could serve as a fundamental step for interventions and policy changes."
  },
  {
    "objectID": "data.html#description",
    "href": "data.html#description",
    "title": "2  Data",
    "section": "2.1 Description",
    "text": "2.1 Description\nFor this project, the dataset used is a csv file called `NYPD_Arrest_Data_Year_to_Date_.csv`, which provides detailed records of arrests made by the New York City Police Department (NYPD) within the current year, specifically from 2024/01/01 to 2024/09/30. Each record includes information such as the type of crime, location, time, and suspect demographics, offering an opportunity to analyze trends in police enforcement activity.\n\nData Collection and Updates:\n\nOriginally collected and maintained by the NYPD, extracted and reviewed by the Office of Management Analysis and Planning (OMAP), the primary evaluation and assessment arm and “think tank” of NYPD.\nUpdated quarterly.\n\nFormat and Dimensions:\n\nThe dataset is in CSV format.\nIt includes fields such as the arrest date, type and level of crime, location coordinates, and demographic details (e.g., age, race, sex).\n\nIssues/Problems:\n\nMissing values in certain fields due to historical changes in data collection forms or unavailable information at the time of reporting.\nGeo location data may not be accurate: data on certain arrests (e.g., those on moving trains or in parks) is approximated to nearby coordinates, and those arrests who were not able to be geo-coded have been located as occurring at the police station house within the precinct of occurrence.\nSome arrests do not have a specific law codes due to the huge amount of laws, so some records are categorized under generic or broad law codes (e.g., “LOC00000UM”).\nTranscription errors may result in inconsistencies in nominal data.\n\nData Import & Source:\n\nThe data was collected from NYPD Arrest Data (Year to Date) on Data.Gov (https://catalog.data.gov/dataset/nypd-arrest-data-year-to-date), which is a national open data platform that provides access to datasets published by agencies across the government.\nAs mentioned before, the dataset was actually rearranged and extracted from the original data & report from NYPD, but the original data is not publicly available by NYPD. Considering that the data source Data.Gov is an official government data website, we have reason to believe in the authenticity and accuracy of the data."
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.2 Missing value analysis",
    "text": "2.2 Missing value analysis\n\nWe first take a look at what does the data look like and its structure:\n\n\nCode\nlibrary(tidyverse)\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\nCode\nlibrary(ggplot2)\nlibrary(dplyr)\n\nraw_data &lt;- read.csv(\"./data/NYPD_Arrest_Data__Year_to_Date__20241118.csv\", stringsAsFactors = FALSE)\nhead(raw_data)\n\n\n  ARREST_KEY ARREST_DATE PD_CD                  PD_DESC KY_CD      OFNS_DESC\n1  281240883  01/28/2024   105        STRANGULATION 1ST   106 FELONY ASSAULT\n2  282884120  02/27/2024   263              ARSON 2,3,4   114          ARSON\n3  283137868  03/03/2024   109 ASSAULT 2,1,UNCLASSIFIED   106 FELONY ASSAULT\n4  287001362  05/16/2024   109 ASSAULT 2,1,UNCLASSIFIED   106 FELONY ASSAULT\n5  287829614  06/02/2024   105        STRANGULATION 1ST   106 FELONY ASSAULT\n6  280513565  01/14/2024   153                   RAPE 3   104           RAPE\n    LAW_CODE LAW_CAT_CD ARREST_BORO ARREST_PRECINCT JURISDICTION_CODE AGE_GROUP\n1 PL 1211200          F           Q             105                 0     25-44\n2 PL 1501001          F           Q             107                71     45-64\n3 PL 1200502          F           B              48                 0     25-44\n4 PL 1200512          F           S             121                 0     25-44\n5 PL 1211200          F           Q             100                 0     25-44\n6 PL 1302503          F           M              14                 0     18-24\n  PERP_SEX PERP_RACE X_COORD_CD Y_COORD_CD Latitude Longitude\n1        M     WHITE    1057545     207911 40.73704 -73.73551\n2        M     WHITE    1037489     206343 40.73288 -73.80790\n3        M     BLACK    1013900     250835 40.85511 -73.89282\n4        M     WHITE     938928     168468 40.62897 -74.16327\n5        M     BLACK    1039777     155013 40.59198 -73.80007\n6        M     BLACK     985764     213806 40.75353 -73.99454\n                    New.Georeferenced.Column\n1               POINT (-73.735514 40.737043)\n2               POINT (-73.807899 40.732881)\n3               POINT (-73.892818 40.855109)\n4               POINT (-74.163275 40.628967)\n5                POINT (-73.800066 40.59198)\n6 POINT (-73.9945368920152 40.7535327012632)\n\n\n\n\n\nCode\nstr(raw_data)\n\n\n'data.frame':   195447 obs. of  19 variables:\n $ ARREST_KEY              : int  281240883 282884120 283137868 287001362 287829614 280513565 291269261 280286274 281035905 279805425 ...\n $ ARREST_DATE             : chr  \"01/28/2024\" \"02/27/2024\" \"03/03/2024\" \"05/16/2024\" ...\n $ PD_CD                   : int  105 263 109 109 105 153 157 105 777 109 ...\n $ PD_DESC                 : chr  \"STRANGULATION 1ST\" \"ARSON 2,3,4\" \"ASSAULT 2,1,UNCLASSIFIED\" \"ASSAULT 2,1,UNCLASSIFIED\" ...\n $ KY_CD                   : int  106 114 106 106 106 104 104 106 NA 106 ...\n $ OFNS_DESC               : chr  \"FELONY ASSAULT\" \"ARSON\" \"FELONY ASSAULT\" \"FELONY ASSAULT\" ...\n $ LAW_CODE                : chr  \"PL 1211200\" \"PL 1501001\" \"PL 1200502\" \"PL 1200512\" ...\n $ LAW_CAT_CD              : chr  \"F\" \"F\" \"F\" \"F\" ...\n $ ARREST_BORO             : chr  \"Q\" \"Q\" \"B\" \"S\" ...\n $ ARREST_PRECINCT         : int  105 107 48 121 100 14 84 70 67 100 ...\n $ JURISDICTION_CODE       : int  0 71 0 0 0 0 0 0 0 0 ...\n $ AGE_GROUP               : chr  \"25-44\" \"45-64\" \"25-44\" \"25-44\" ...\n $ PERP_SEX                : chr  \"M\" \"M\" \"M\" \"M\" ...\n $ PERP_RACE               : chr  \"WHITE\" \"WHITE\" \"BLACK\" \"WHITE\" ...\n $ X_COORD_CD              : int  1057545 1037489 1013900 938928 1039777 985764 988902 993690 997897 1035353 ...\n $ Y_COORD_CD              : int  207911 206343 250835 168468 155013 213806 192641 172242 175676 152906 ...\n $ Latitude                : num  40.7 40.7 40.9 40.6 40.6 ...\n $ Longitude               : num  -73.7 -73.8 -73.9 -74.2 -73.8 ...\n $ New.Georeferenced.Column: chr  \"POINT (-73.735514 40.737043)\" \"POINT (-73.807899 40.732881)\" \"POINT (-73.892818 40.855109)\" \"POINT (-74.163275 40.628967)\" ...\n\n\n\nWe found that the raw dataset contains 195447 obs (rows). of 19 variables (cols), with more detailed variable information provided in the source website:\n\n\nARREST_KEY: Randomly generated persistent ID for each arrest\nARREST_DATE: Exact date of arrest for the reported event\nPD_CD: Three digit internal classification code (more granular than Key Code)\nPD_DESC: Description of internal classification corresponding with PD code (more granular than Offense Description)\nKY_CD: Three digit internal classification code (more general category than PD code)\nOFNS_DESC: Description of internal classification corresponding with KY code (more general category than PD description)\nLAW_CODE: Law code charges corresponding to the NYS Penal Law, VTL and other various local laws\nLAW_CAT_CD: Level of offense: felony, misdemeanor, violation\nARREST_BORO: Borough of arrest. B(Bronx), S(Staten Island), K(Brooklyn), M(Manhattan), Q(Queens)\nARREST_PRECINCT: Precinct where the arrest occurred\nJURISDICTION_CODE: Jurisdiction responsible for arrest. Jurisdiction codes 0(Patrol), 1(Transit) and 2(Housing) represent NYPD whilst codes 3 and more represent non NYPD jurisdictions\nAGE_GROUP: Perpetrator’s age within a category\nPERP_SEX: Perpetrator’s sex description\nPERP_RACE: Perpetrator’s race description\nX_COORD_CD: Midblock X-coordinate for New York State Plane Coordinate System, Long Island Zone, NAD 83, units feet (FIPS 3104)\nY_COORD_CD: Midblock Y-coordinate for New York State Plane Coordinate System, Long Island Zone, NAD 83, units feet (FIPS 3104)\nLatitude: Latitude coordinate for Global Coordinate System, WGS 1984, decimal degrees (EPSG 4326)\nLongitude: Longitude coordinate for Global Coordinate System, WGS 1984, decimal degrees (EPSG 4326)\nNew.Georeferenced.Column: Point coordinate in the form of (Longitude, Latitude)\n\n\nNow we investigate missing values:\n\n\n\nCode\nmissing_summary &lt;- colSums(is.na(raw_data))\nmissing_summary &lt;- sort(missing_summary, decreasing = TRUE)\nmissing_summary\n\n\n                   KY_CD                    PD_CD               ARREST_KEY \n                      26                        6                        0 \n             ARREST_DATE                  PD_DESC                OFNS_DESC \n                       0                        0                        0 \n                LAW_CODE               LAW_CAT_CD              ARREST_BORO \n                       0                        0                        0 \n         ARREST_PRECINCT        JURISDICTION_CODE                AGE_GROUP \n                       0                        0                        0 \n                PERP_SEX                PERP_RACE               X_COORD_CD \n                       0                        0                        0 \n              Y_COORD_CD                 Latitude                Longitude \n                       0                        0                        0 \nNew.Georeferenced.Column \n                       0 \n\n\n\n\nCode\nmissing_summary_df &lt;- data.frame(Variable = names(missing_summary), \n                                 Missing_Count = as.numeric(missing_summary))\n\n# Create a small table of variables with missing values\nmissing_table &lt;- missing_summary_df %&gt;% \n  filter(Missing_Count &gt; 0)\n\nprint(missing_table)\n\n\n  Variable Missing_Count\n1    KY_CD            26\n2    PD_CD             6\n\n\n\nWe can see that most columns do not contain missing values, except for KY_CD and PD_CD, both of which are 3 digit internal classification code to categorize the type of the arrest, but the missing values only count for a tiny portion of the whole dataset.\nWe can then visualize the missing values using several graphs for clarity:\n\n\n\nCode\n# Highlight the counts of missing values per variable using a bar plot\n\nggplot(missing_summary_df, aes(x = reorder(Variable, -Missing_Count), y = Missing_Count)) +\n  geom_bar(stat = \"identity\", fill = \"steelblue\") +\n  labs(title = \"Count of Missing Values per Variable\", \n       x = \"Variable\", y = \"Count of Missing Values\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\nCode\n# Filter for variables with missing values only\nmissing_summary_df$Missing_Proportion &lt;- missing_summary_df$Missing_Count / nrow(raw_data)\n\nmissing_summary_filtered &lt;- missing_summary_df %&gt;%\n  filter(Missing_Proportion &gt; 0)\n\n# Horizontal bar plot for variables with missing values\nggplot(missing_summary_filtered, aes(x = reorder(Variable, -Missing_Proportion), y = Missing_Proportion)) +\n  geom_bar(stat = \"identity\", fill = \"darkorange\") +\n  coord_flip() +\n  labs(title = \"Proportion of Missing Values (Filtered)\", \n       x = \"Variable\", y = \"Proportion of Missing Values\")+\n  theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\nCode\n# install.packages(\"naniar\")\nlibrary(naniar)\n\n# use gg_miss_upset for UpSet graph\ngg_miss_upset(raw_data)\n\n\n\n\n\n\nThis UpSet Plot implies that 6 and thus all of the missing values for PD_CD correspond with missing values of KY_CD, and there are also 20 extra KY_CD missing.\n\n\n\nCode\n# Analyze missing value by Borough\nmissing_by_boro &lt;- raw_data %&gt;%\n  mutate(KY_CD_Missing = is.na(KY_CD)) %&gt;%\n  group_by(ARREST_BORO) %&gt;%\n  summarise(Missing_Rate = mean(KY_CD_Missing))\n\nggplot(missing_by_boro, aes(x = ARREST_BORO, y = Missing_Rate)) +\n  geom_bar(stat = \"identity\", fill = \"steelblue\") +\n  labs(title = \"Missing Rate by Borough\", x = \"Borough\", y = \"Missing Rate\")+\n  theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\nCode\n# Analyze missing value by demographic feature\nmissing_by_demo &lt;- raw_data %&gt;%\n  mutate(KY_CD_Missing = is.na(KY_CD)) %&gt;%\n  group_by(AGE_GROUP, PERP_SEX, PERP_RACE) %&gt;%\n  summarise(Missing_Rate = mean(KY_CD_Missing)) %&gt;%\n  arrange(desc(Missing_Rate))\n\n\n`summarise()` has grouped output by 'AGE_GROUP', 'PERP_SEX'. You can override\nusing the `.groups` argument.\n\n\nCode\nggplot(missing_by_demo, aes(x = AGE_GROUP, y = Missing_Rate, fill = PERP_SEX)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(title = \"Missing Rate by Age and Sex\", x = \"Age Group\", y = \"Missing Rate\")+\n  theme(plot.title = element_text(hjust = 0.5))"
  },
  {
    "objectID": "data.html#data-cleaning",
    "href": "data.html#data-cleaning",
    "title": "2  Data",
    "section": "2.3 2.3 Data Cleaning",
    "text": "2.3 2.3 Data Cleaning\n\nThere seems to be some slight pattern between missing values and other variables, especially the age variable, but as we mentioned in section 2.1, these missing values may due to historical changes in data collection forms or unavailable information at the time of reporting. Also, considering the extremely small percentage of missing values, we choose to directly delete all rows with missing values.\n\n\n\nCode\n# Remove all rows with missing values\ndata &lt;- na.omit(raw_data)\n\n# Check the number of rows before and after removing missing values\ncat(\"Number of rows before cleaning:\", nrow(raw_data), \"\\n\")\n\n\nNumber of rows before cleaning: 195447 \n\n\nCode\ncat(\"Number of rows after removing missing values:\", nrow(data), \"\\n\")\n\n\nNumber of rows after removing missing values: 195421 \n\n\nCode\n# Verify the data no longer contains missing values\nsum(is.na(data))\n\n\n[1] 0\n\n\n\n\nCode\n# calculate number of unique value for each variable\nunique_counts &lt;- sapply(data, function(x) length(unique(x)))\nunique_counts_df &lt;- data.frame(Variable = names(unique_counts), Unique_Count = unique_counts)\nunique_counts_df &lt;- unique_counts_df[order(-unique_counts_df$Unique_Count), ]\n\nunique_counts_df\n\n\n                                         Variable Unique_Count\nARREST_KEY                             ARREST_KEY       195421\nNew.Georeferenced.Column New.Georeferenced.Column        34619\nLongitude                               Longitude        33813\nLatitude                                 Latitude        33786\nY_COORD_CD                             Y_COORD_CD        29458\nX_COORD_CD                             X_COORD_CD        27813\nLAW_CODE                                 LAW_CODE         1044\nARREST_DATE                           ARREST_DATE          274\nPD_CD                                       PD_CD          259\nPD_DESC                                   PD_DESC          251\nARREST_PRECINCT                   ARREST_PRECINCT           77\nKY_CD                                       KY_CD           69\nOFNS_DESC                               OFNS_DESC           58\nJURISDICTION_CODE               JURISDICTION_CODE           25\nPERP_RACE                               PERP_RACE            7\nLAW_CAT_CD                             LAW_CAT_CD            6\nARREST_BORO                           ARREST_BORO            5\nAGE_GROUP                               AGE_GROUP            5\nPERP_SEX                                 PERP_SEX            2\n\n\n\nFor further analysis and visualization purpose, there are some variables that we can remove from the dataset and will not cause any inconvenience. Here are the reasons:\n\n\nARREST_KEY\nThis is a randomly generated unique identifier for each record. It does not carry any analytical or statistical value and is irrelevant for data analysis or visualization.\nY_COORD_CD & X_COORD_CD\nThese variables represent geographic coordinates in the NAD 1983 system. Since the dataset already includes Latitude and Longitude (which are more universally understood and used), these fields are redundant and were removed.\nLatitude & Longitude\nThese fields are redundant because the New.Georeferenced.Column variable already combines them into a (Longitude, Latitude) format. If geographic mapping is needed later, New.Georeferenced.Column will be sufficient.\nLAW_CODE\nThis variable contains detailed law codes, which have too many categories (1044 as seen from above) to be useful for most visualizations or analyses. Instead, the LAW_CAT_CD variable, which provides broader categories (felony, misdemeanor, violation), is more practical and will be used.\n\n\n\nCode\n# Remove unnecessary variables\ndata_cleaned &lt;- data %&gt;%\n  select(-ARREST_KEY, -Y_COORD_CD, -X_COORD_CD, -LAW_CODE, -Latitude, -Longitude)\n\n# Check the structure of the cleaned dataset\nstr(data_cleaned)\n\n\n'data.frame':   195421 obs. of  13 variables:\n $ ARREST_DATE             : chr  \"01/28/2024\" \"02/27/2024\" \"03/03/2024\" \"05/16/2024\" ...\n $ PD_CD                   : int  105 263 109 109 105 153 157 105 109 153 ...\n $ PD_DESC                 : chr  \"STRANGULATION 1ST\" \"ARSON 2,3,4\" \"ASSAULT 2,1,UNCLASSIFIED\" \"ASSAULT 2,1,UNCLASSIFIED\" ...\n $ KY_CD                   : int  106 114 106 106 106 104 104 106 106 104 ...\n $ OFNS_DESC               : chr  \"FELONY ASSAULT\" \"ARSON\" \"FELONY ASSAULT\" \"FELONY ASSAULT\" ...\n $ LAW_CAT_CD              : chr  \"F\" \"F\" \"F\" \"F\" ...\n $ ARREST_BORO             : chr  \"Q\" \"Q\" \"B\" \"S\" ...\n $ ARREST_PRECINCT         : int  105 107 48 121 100 14 84 70 100 77 ...\n $ JURISDICTION_CODE       : int  0 71 0 0 0 0 0 0 0 0 ...\n $ AGE_GROUP               : chr  \"25-44\" \"45-64\" \"25-44\" \"25-44\" ...\n $ PERP_SEX                : chr  \"M\" \"M\" \"M\" \"M\" ...\n $ PERP_RACE               : chr  \"WHITE\" \"WHITE\" \"BLACK\" \"WHITE\" ...\n $ New.Georeferenced.Column: chr  \"POINT (-73.735514 40.737043)\" \"POINT (-73.807899 40.732881)\" \"POINT (-73.892818 40.855109)\" \"POINT (-74.163275 40.628967)\" ...\n - attr(*, \"na.action\")= 'omit' Named int [1:26] 9 19 48 2828 4651 7340 26347 37277 39027 39751 ...\n  ..- attr(*, \"names\")= chr [1:26] \"9\" \"19\" \"48\" \"2828\" ..."
  }
]